---
title: "Creating Commands"
description: "Learn how to create custom commands for your Hytale mod."
authors:
    - name: "Neil Revin"
      url: "https://itsneil.dev"
    - name: "oskarscot"
      url: "https://oskar.scot"
---

In this guide, you will learn how to create custom commands for your Hytale mod.

## The `AbstractPlayerCommand` Class

To create a command, you can extend the `AbstractPlayerCommand` class. You need to provide a constructor that calls the `BaseCommand` constructor with the command name, description, and whether the command requires confirmation (--confirm while running the command).

You can override the `execute` function to implement the command's behavior. It gives you access to the CommandContext which is always a player in this case, the EntityStore, the Reference store, the player reference as well as the World in which the command is being executed.
It's important to know that `AbstractPlayerCommand` extends `AbstractAsyncCommand` meaning that commands do not execute on the main server thread. 

You can use the `Store` along with the `Ref` to access all entity components like the `Player` component, `UUIDComponent` or `TransformComponent`.

For more information about Hytale's Entity Component System visit the [Hytale ECS Theory](https://hytalemodding.dev/en/docs/plugin/ecs/hytale-ecs-theory) guide.


```java
public class ExampleCommand extends AbstractPlayerCommand {

  public ExampleCommand() {
    super("test", "Super test command!");
  }

  @Override
  protected void execute(@Nonnull CommandContext commandContext, @Nonnull Store<EntityStore> store, @Nonnull Ref<EntityStore> ref, @Nonnull PlayerRef playerRef, @Nonnull World world) {
    Player player = store.getComponent(ref, Player.getComponentType()); // also a component
    UUIDComponent component = store.getComponent(ref, UUIDComponent.getComponentType());
    TransformComponent transform = store.getComponent(ref, TransformComponent.getComponentType());
    player.sendMessage(Message.raw("Player#getUuid() : " + player.getUuid())); // returns UUID from UUIDComponent
    player.sendMessage(Message.raw("UUIDComponent : " + component.getUuid()));
    player.sendMessage(Message.raw("equal : " + player.getUuid().equals(component.getUuid()))); // they're both the same
    player.sendMessage(Message.raw("Transform : " + transform.getPosition()));
  }

}
```

## Adding Arguments

You may want your command to have arguments. To do this, you can use the `withRequiredArg` method. 

```java
public class ExampleCommand extends AbstractPlayerCommand {

  public ExampleCommand() {
    super("test", "Super test command!");
  }

  RequiredArg<String> messageArg = this.withRequiredArg("argument_name", "Argument Description", ArgTypes.STRING);

  @Override
  protected void execute(@Nonnull CommandContext commandContext, @Nonnull Store<EntityStore> store, @Nonnull Ref<EntityStore> ref, @Nonnull PlayerRef playerRef, @Nonnull World world) {

    String message = messageArg.get(commandContext); // get the argument text by the player
    player.sendMessage(Message.raw("Message Argument: " + message));
  }

}
```


### Optional Arguments

Adding a optional argument is the same, only change is the method used to create it. You can use the `withOptionalArg` method.

### ArgTypes

The following ArgTypes are available (only lists common types):

- `ArgTypes.STRING`
- `ArgTypes.INTEGER`
- `ArgTypes.BOOLEAN`
- `ArgTypes.FLOAT`
- `ArgTypes.DOUBLE`
- `ArgTypes.UUID`

## Registering the Command

For any command 

```java
public class MyPlugin extends JavaPlugin {

    @Override
    public void setup() {
        this.getCommandRegistry().registerCommand(new ExampleCommand());
    }
}
```